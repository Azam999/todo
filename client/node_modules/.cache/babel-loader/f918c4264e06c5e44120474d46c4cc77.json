{"ast":null,"code":"import _slicedToArray from\"/Users/azamahmed/Desktop/dev/crud-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'../axios';import{Link}from'react-router-dom';import Error from'./Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditTodo=function EditTodo(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),editValue=_useState2[0],setEditValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showError=_useState4[0],setShowError=_useState4[1];var handleEdit=function handleEdit(e,id){e.preventDefault();if(editValue!==''){if(showError){setShowError(false);}var todo={title:editValue};// axios put request to update todo\naxios.put(\"/update/todo/\".concat(id),todo).then(function(){return console.log('Todo updated');}).catch(function(err){return console.error(err);});}else{setShowError(true);console.error('Error');}};var handleEditChange=function handleEditChange(e){setEditValue(e.target.value);console.log();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",location:props.location,children:[showError?/*#__PURE__*/_jsx(Error,{}):null,/*#__PURE__*/_jsxs(\"form\",{className:\" d-flex flex-row mb-3\",onSubmit:function onSubmit(e){return handleEdit(e,props.location.state);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control me-3\",placeholder:\"Todo\",onChange:handleEditChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Save\",className:\"btn btn-primary\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary ms-3\",children:\"Home\"})})]})]});};export default EditTodo;","map":{"version":3,"sources":["/Users/azamahmed/Desktop/dev/crud-app/client/src/components/EditTodo.jsx"],"names":["React","useState","axios","Link","Error","EditTodo","props","editValue","setEditValue","showError","setShowError","handleEdit","e","id","preventDefault","todo","title","put","then","console","log","catch","err","error","handleEditChange","target","value","location","state"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,eACQL,QAAQ,CAAC,EAAD,CADhB,wCACnBM,SADmB,eACRC,YADQ,8BAEQP,QAAQ,CAAC,KAAD,CAFhB,yCAEnBQ,SAFmB,eAERC,YAFQ,eAI1B,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAIC,EAAJ,CAAW,CAC5BD,CAAC,CAACE,cAAF,GACA,GAAIP,SAAS,GAAK,EAAlB,CAAsB,CACpB,GAAIE,SAAJ,CAAe,CACbC,YAAY,CAAC,KAAD,CAAZ,CACD,CACD,GAAMK,CAAAA,IAAI,CAAG,CACXC,KAAK,CAAET,SADI,CAAb,CAIA;AACAL,KAAK,CACFe,GADH,wBACuBJ,EADvB,EAC6BE,IAD7B,EAEGG,IAFH,CAEQ,iBAAMC,CAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,CAAN,EAFR,EAGGC,KAHH,CAGS,SAACC,GAAD,QAASH,CAAAA,OAAO,CAACI,KAAR,CAAcD,GAAd,CAAT,EAHT,EAID,CAbD,IAaO,CACLZ,YAAY,CAAC,IAAD,CAAZ,CACAS,OAAO,CAACI,KAAR,CAAc,OAAd,EACD,CACF,CAnBD,CAqBA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACZ,CAAD,CAAO,CAC9BJ,YAAY,CAACI,CAAC,CAACa,MAAF,CAASC,KAAV,CAAZ,CACAP,OAAO,CAACC,GAAR,GACD,CAHD,CAKA,mBACE,aAAK,SAAS,CAAC,gBAAf,CAAgC,QAAQ,CAAEd,KAAK,CAACqB,QAAhD,WACGlB,SAAS,cAAG,KAAC,KAAD,IAAH,CAAe,IAD3B,cAEE,cACE,SAAS,CAAC,uBADZ,CAEE,QAAQ,CAAE,kBAACG,CAAD,QAAOD,CAAAA,UAAU,CAACC,CAAD,CAAIN,KAAK,CAACqB,QAAN,CAAeC,KAAnB,CAAjB,EAFZ,wBAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,WAAW,CAAC,MAHd,CAIE,QAAQ,CAAEJ,gBAJZ,EAJF,cAUE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,MAA3B,CAAkC,SAAS,CAAC,iBAA5C,EAVF,cAWE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,eAAQ,SAAS,CAAC,wBAAlB,kBADF,EAXF,GAFF,GADF,CAoBD,CAlDD,CAoDA,cAAenB,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport axios from '../axios';\nimport { Link } from 'react-router-dom';\nimport Error from './Error';\n\nconst EditTodo = (props) => {\n  const [editValue, setEditValue] = useState('');\n  const [showError, setShowError] = useState(false);\n\n  const handleEdit = (e, id) => {\n    e.preventDefault();\n    if (editValue !== '') {\n      if (showError) {\n        setShowError(false);\n      }\n      const todo = {\n        title: editValue,\n      };\n\n      // axios put request to update todo\n      axios\n        .put(`/update/todo/${id}`, todo)\n        .then(() => console.log('Todo updated'))\n        .catch((err) => console.error(err));\n    } else {\n      setShowError(true);\n      console.error('Error');\n    }\n  };\n\n  const handleEditChange = (e) => {\n    setEditValue(e.target.value);\n    console.log();\n  };\n\n  return (\n    <div className='container mt-5' location={props.location}>\n      {showError ? <Error /> : null}\n      <form\n        className=' d-flex flex-row mb-3'\n        onSubmit={(e) => handleEdit(e, props.location.state)}\n      >\n        <input\n          type='text'\n          className='form-control me-3'\n          placeholder='Todo'\n          onChange={handleEditChange}\n        />\n        <input type='submit' value='Save' className='btn btn-primary' />\n        <Link to='/'>\n          <button className='btn btn-secondary ms-3'>Home</button>\n        </Link>\n      </form>\n    </div>\n  );\n};\n\nexport default EditTodo;\n"]},"metadata":{},"sourceType":"module"}